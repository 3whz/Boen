<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Accordion - srtdash</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="assets/images/icon/favicon.ico">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/metisMenu.css">
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <!-- amcharts css -->
    <link rel="stylesheet" href="assets/css/export.css" type="text/css" media="all" />
    <!-- style css -->
    <link rel="stylesheet" href="assets/css/typography.css">
    <link rel="stylesheet" href="assets/css/default-css.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <!-- modernizr css -->
    <script src="assets/js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <!-- preloader area start -->
    <div id="preloader">
        <div class="loader"></div>
    </div>
    <!-- preloader area end -->
    <!-- page container area start -->

    <!-- page title area end -->
    <div class="main-content-inner">
        <!-- accroding start -->
        <div class="row">
            <!-- accordion style 1 start -->
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h4 class="header-title">教练列表</h4>
                        <div id="accordion1" class="according">
                            <div class="card">
                                <div class="card-header">
                                    <a class="card-link" data-toggle="collapse" href="#accordion11">教练1</a>
                                </div>
                                <div id="accordion11" class="collapse show" data-parent="#accordion1">
                                    <!-- accordion style 1 start往里面再放一个表 -->
                                    <!-- accordion style 2 start -->
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class="card-body">
                                                <div id="accordion2" class="according accordion-s2">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <a class="collapsed card-link" data-toggle="collapse"
                                                                href="#accordion22">课程2</a>
                                                        </div>
                                                        <div id="accordion22" class="collapse"
                                                            data-parent="#accordion2">
                                                            <div class="card-body">
                                                                Lorem, ipsum dolor sit amet consectetur
                                                                adipisicing elit. Nemo eaque porro
                                                                alias assumenda accusamus incidunt odio
                                                                molestiae maxime quo atque in et
                                                                quaerat, vel unde aliquam aperiam quidem
                                                                consectetur omnis dicta officiis?
                                                                Dolorum, error dolorem!
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <a class="collapsed card-link" data-toggle="collapse"
                                                                href="#accordion23">课程3</a>
                                                        </div>
                                                        <div id="accordion23" class="collapse"
                                                            data-parent="#accordion2">
                                                            <div class="card-body">
                                                                Lorem, ipsum dolor sit amet consectetur
                                                                adipisicing elit. Nemo eaque porro
                                                                alias assumenda accusamus incidunt odio
                                                                molestiae maxime quo atque in et
                                                                quaerat, vel unde aliquam aperiam quidem
                                                                consectetur omnis dicta officiis?
                                                                Dolorum, error dolorem!
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- accordion style 2 end -->
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    <a class="collapsed card-link" data-toggle="collapse" href="#accordion12">教练2</a>
                                </div>
                                <div id="accordion12" class="collapse" data-parent="#accordion1">
                                    <div class="card-body">
                                        <!-- accordion style 2 start -->
                                        <div class="col-lg-12">

                                            <div class="card-body">
                                                <div id="accordion2" class="according accordion-s2">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <a class="collapsed card-link" data-toggle="collapse"
                                                                href="#accordion24">课程2</a>
                                                        </div>
                                                        <div id="accordion24" class="collapse"
                                                            data-parent="#accordion2">
                                                            <div class="card-body">
                                                                Lorem, ipsum dolor sit amet consectetur
                                                                adipisicing elit. Nemo eaque porro
                                                                alias assumenda accusamus incidunt odio
                                                                molestiae maxime quo atque in et
                                                                quaerat, vel unde aliquam aperiam quidem
                                                                consectetur omnis dicta officiis?
                                                                Dolorum, error dolorem!
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <a class="collapsed card-link" data-toggle="collapse"
                                                                href="#accordion25">课程3</a>
                                                        </div>
                                                        <div id="accordion25" class="collapse"
                                                            data-parent="#accordion2">
                                                            <div class="card-body">
                                                                Lorem, ipsum dolor sit amet consectetur
                                                                adipisicing elit. Nemo eaque porro
                                                                alias assumenda accusamus incidunt odio
                                                                molestiae maxime quo atque in et
                                                                quaerat, vel unde aliquam aperiam quidem
                                                                consectetur omnis dicta officiis?
                                                                Dolorum, error dolorem!
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- accordion style 2 end -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- accroding end -->
    </div>

    <!-- main content area end -->

    </div>
    <!-- page container area end -->

    <!-- jquery latest version -->
    <script src="assets/js/vendor/jquery-2.2.4.min.js"></script>
    <!-- bootstrap 4 js -->
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/metisMenu.min.js"></script>
    <script src="assets/js/jquery.slimscroll.min.js"></script>
    <script src="assets/js/jquery.slicknav.min.js"></script>
    <!-- others plugins -->
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/scripts.js"></script>
</body>

</html>
<script>
    $(function () {
        console.log($.ajax())
        var i = 11;
        var n = 21;
        $.ajax({
            url: "http://localhost:8081/CUserJointGymClassSelect",
            //data: {"username":"aaa","age":22},//携带参数
            //data:"username=aaa&age=23",
            dataType: "json",
            type: "get",
            // cache: true,//true  缓存
            // async: true,// 异步  ， false 同步
            // contentType: "application/x-www/form-urlencoded",//application-json
            success: function (result, status) { //响应成功后回调
                if (status == "success" && result.length != 0) {
                    var menu = "";
                    result.forEach(function (item) {
                        if (item.coach > 0) {
                            
                            //字符串模板 拼接左侧选项菜单
                            menu += `<div class="card">
                                    <div class="card-header">
                                        <a class="card-link" data-toggle="collapse" href="#accordion${i}">${item.username}</a>
                                    </div>
                                    <div id="accordion${i}" class="collapse" data-parent="#accordion1">
                                        <!-- accordion style 1 start往里面再放一个表 -->
                                        <!-- accordion style 2 start -->
                                        <div class="col-lg-12">
                                            <div class="card">
                                                <div class="card-body">
                                                    <div id="accordion2" class="according accordion-s2">`
                                                        i++              
                            item.gymClass.forEach(function (itemg) {
                                menu += ` <div class="card">
                                            <div class="card-header">
                                                <a class="collapsed card-link" data-toggle="collapse"
                                                    href="#accordion${n}">${itemg.name}</a>
                                            </div>
                                            <div id="accordion${n}" class="collapse"
                                                data-parent="#accordion2">
                                                <div class="card-body">
                                                    ${itemg.text}
                                                </div>
                                            </div>
                                        </div>`
                                        n++
                            })
                            menu += `</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>			
                            `;
                        }
                    })
                    $(".according").html(menu);
                } else {
                    console.log("暂无数据")
                }
            },
            //fail
            error: function () {
                alert("出错了")
            }
        });
    });
</script>